<!doctypehtml><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1"name=viewport><title>Terminal Chatbot - WASM + WebGPU</title><style>*{margin:0;padding:0;box-sizing:border-box}body,html{width:100%;height:100%;overflow:hidden;position:fixed;font-family:'Courier New',monospace;background-color:#000;color:#0f0}#loading{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;font-size:1.2em;color:#0f0}#spinner{border:4px solid #030;border-top:4px solid #0f0;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;margin:20px auto}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}canvas{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;image-rendering:pixelated;image-rendering:crisp-edges}#status{position:fixed;bottom:10px;right:10px;font-size:.8em;color:#0a0;background:rgba(0,0,0,.8);padding:5px 10px;border:1px solid #0f0}</style></head><body><input accept=.gguf id=model-upload style=display:none type=file><div id=loading><div id=spinner></div><div>Loading Terminal Chatbot...</div><div style=font-size:.8em;margin-top:10px>Initializing WebAssembly...</div></div><div id=status style=display:none>Ready</div><canvas id=canvas oncontextmenu=event.preventDefault()></canvas><script src=coi-serviceworker.min.js></script><script>var Module={preRun:[function(){try{FS.mkdir("/models"),console.log("Created /models directory")}catch(e){console.log("/models directory already exists or error:",e)}}],postRun:[],print:function(e){console.log(e)},printErr:function(e){console.error(e)},canvas:function(){var e=document.getElementById("canvas");return e.addEventListener("webglcontextlost",(function(e){alert("WebGL context lost. You will need to reload the page."),e.preventDefault()}),!1),e}(),setStatus:function(e){if(Module.setStatus.last||(Module.setStatus.last={time:Date.now(),text:""}),e!==Module.setStatus.last.text){var o=document.getElementById("loading"),t=document.getElementById("status");e&&(console.log("Status:",e),o&&(o.querySelector("div:last-child").textContent=e)),e||(o&&(o.style.display="none"),t&&(t.style.display="block"))}},totalDependencies:0,monitorRunDependencies:function(e){this.totalDependencies=Math.max(this.totalDependencies,e),Module.setStatus(e?"Preparing... ("+(this.totalDependencies-e)+"/"+this.totalDependencies+")":"Ready")}};Module.setStatus("Downloading..."),window.onerror=function(e){Module.setStatus("Exception thrown, see JavaScript console"),document.getElementById("loading").querySelector("div:last-child").textContent="Error loading. Check console."},window.loadLocalModel=function(){console.log("Loading Qwen2.5-0.5B model from Hugging Face...");try{Module.ccall("showLoadingMessage","void",[],[])}catch(e){console.log("Could not show loading message:",e)}fetch("https://huggingface.co/Qwen/Qwen2.5-0.5B-Instruct-GGUF/resolve/main/qwen2.5-0.5b-instruct-q4_k_m.gguf").then((function(e){if(!e.ok)throw new Error("Failed to download model from Hugging Face");var o=e.headers.get("content-length");return o&&console.log("Downloading model: "+Math.round(o/1024/1024)+" MB"),e.arrayBuffer()})).then((function(e){console.log("Model downloaded ("+Math.round(e.byteLength/1024/1024)+" MB), mounting to filesystem...");var o=new Uint8Array(e,0,4),t=String.fromCharCode.apply(null,o);if("GGUF"!==t)throw new Error("Invalid model file (not a GGUF file). Got magic: "+t);try{Module.FS.writeFile("/models/model.gguf",new Uint8Array(e)),console.log("Model mounted successfully"),Module.ccall("loadModelFromFS","void",[],[])}catch(e){console.error("Failed to mount model:",e),alert("Failed to load model. See console for details.")}})).catch((function(e){console.error("Failed to load model:",e),alert("Failed to load model from Hugging Face. Please check your internet connection and try again.")}))},document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("model-upload");e&&(e.onchange=function(e){var o=e.target.files[0];if(o){console.log("Reading model file:",o.name);var t=new FileReader;t.onload=function(e){console.log("Model file loaded, mounting to filesystem...");try{Module.FS.writeFile("/models/model.gguf",new Uint8Array(e.target.result)),console.log("Model mounted successfully"),Module.ccall("loadModelFromFS","void",[],[])}catch(e){console.error("Failed to mount model:",e),alert("Failed to load model. See console for details.")}},t.readAsArrayBuffer(o)}})}))</script><script src=index.js async></script></body></html>